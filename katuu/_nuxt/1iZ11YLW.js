import{_ as V}from"./DZVRhymJ.js";import{d as C,L as b,M as D,N as k,j as m,r as w,t as l,v as p,z as d,A as i,Q as _,x as a,B,y as r,R as F,S as P,W as A}from"./CcToJEy3.js";import{V as T,a as E,b as H}from"./BHtrGYCv.js";import"./BKSLDj76.js";import"./B2FoI3GA.js";const I=a("h1",{class:"mb-4"},"History",-1),L={class:"text-primary"},Y=a("br",null,null,-1),j={class:"text-primary"},J=C({__name:"history",setup(z){const g=b(),s=D(k(g,"history"));console.log(s);const f=(e,n)=>{const o=e*1e3+Math.floor(n/1e6),t=new Date(o),c=t.getFullYear(),v=String(t.getMonth()+1).padStart(2,"0"),$=String(t.getDate()).padStart(2,"0"),x=String(t.getHours()).padStart(2,"0"),M=String(t.getMinutes()).padStart(2,"0"),N=String(t.getSeconds()).padStart(2,"0");return`${c}-${v}-${$} ${x}:${M}:${N}`},S=m(()=>{const e=new Date,n=e.getFullYear(),o=String(e.getMonth()+1).padStart(2,"0"),t=String(e.getDate()).padStart(2,"0");return`${n}-${o}-${t}`}),h=m(()=>s.value.reduce((e,n)=>e+(n.totalPrice||0),0)),y=w(),u=e=>new Intl.NumberFormat("vi-VN").format(e)+" đ";return(e,n)=>{const o=V;return l(),p(_,null,[d(T,null,{default:i(()=>[I,a("div",null,[B(" Ngày: "+r(S.value)+" - ",1),a("span",L,r(u(h.value)),1)]),Y,(l(!0),p(_,null,F(P(s),(t,c)=>(l(),A(E,{key:c,class:"mx-auto mb-2",elevation:"3"},{default:i(()=>[d(H,null,{default:i(()=>[a("div",j," Ngày: "+r(f(t.createdAt.seconds,t.createdAt.nanoseconds)),1),a("div",null," Số lượng: "+r(t.data.length),1),a("div",null," Tổng tiền: "+r(u(t.totalPrice)),1)]),_:2},1024)]),_:2},1024))),128))]),_:1}),d(o,{ref_key:"refModal",ref:y},null,512)],64)}}});export{J as default};
